<!doctype html>
<html lang="en"> <head> <title>Life Inside a Computer</title> <meta http-equiv="content-type" content="text/html;" charset="UTF-8" /> <meta name="viewport" content="width=device-width, initial-scale=1"> <link href="https://sporiff.github.io/css/style.min.css" rel="stylesheet" type="text/css" /> <link rel="alternate" href="https://sporiff.github.io/rss.xml" type="application/rss+xml" /> <link rel="icon" type="image/png" href="https://sporiff.github.io/css/favicon.png" />  </head> <body> <nav class="navigation"> <a href="https://sporiff.github.io">Home</a> | <a href="mailto:ciaranainsworth@outlook.com">Email</a>  | <a href="https://github.com/Sporiff">Code</a>  | <a href="https://paypal.me/CiaranAinsworth">Support me</a>  | <a href="https://assets.rootkey.co.uk/static/resume.pdf">Resumé</a>  | <a href="https://rootkey.co.uk/atom.xml">RSS</a>  </nav> <main id="content"> <section class="article-meta">
<h1 class="title">Python Programming</h1>
<details open> <summary>Article Information</summary> <section class="tags">
Tagged as <a href="https://sporiff.github.io/tag/python.html">python</a>, <a href="https://sporiff.github.io/tag/programming.html">programming</a>, <a href="https://sporiff.github.io/tag/gtk.html">gtk</a> </section>
<section class="date">
Written on <time datetime="2020-05-17">2020-05-17</time> </section>
</section>
<article class="article-content">
<p><video controls id="video">
  <source src="https://assets.rootkey.co.uk/static/images/Soap%20Calculator.webm" type="video/webm">
  Your browser does not support the video tag.
</video></p>

<p>I've been having some fun learning Python recently as part of a course I'm doing. One of our early
assignments was to create a simple saponification calculator which would return the amount of lye
and water required to make soap from some given oils.</p>

<p>My personal goal in all of this is to be able to make graphical programs, as I always seem to fall at
that hurdle. I've made terminal-based scripts and apps in the past, but have always given up with the
creation of a GUI due to not understanding how on earth you get a front-end to talk to a back-end.</p>

<p>After spending some time with <a href="https://glade.gnome.org/" >Glade</a> and the excellent
<a href="https://developer.gnome.org/gtk3/stable/" >GTK developer documentation</a> (and by time I mean I started
this rewrite at 7PM and ended up with something workable at 7AM), I am finally getting a handle on how
these things talk to one another and work together.</p>

<p>Something I'd never really considered was just how different interacting with applications in the terminal
and on the front-end is. With a terminal app things are fairly sequential and predictable, but when you
start putting things into an interface it becomes a completely different process. The
<a href="https://git.sr.ht/~sporiff/soap-calculator/tree/ae2bca34dd2dbae7db4f31d7e45e44b8597b5df9/soap_calculator.py" >original script</a>
essentially just ran through each part in sequence:</p>

<ul>
<li>Enter a value for olive oil</li>
<li>Enter a value for coconut oil</li>
<li>Select whether or not to use lye reduction</li>
<li>Calculate results</li>
</ul>

<p>But with a GUI application, it's possible to have all of the inputs accessible at once, and the
expectation of the user will be to have either:</p>

<ul>
<li>A button that performs the calculation once everything is filled in</li>
<li>A calculation performed whenever a value is changed</li>
</ul>

<p>For the challenge of it, I opted for the latter, which meant that at every turn entries had to be
sanitized and handled synchronously. What I had originally thought would be a simple case of just
attaching a front end to a script basically left me with a completely different program with a different
project structure and set of tools. The only thing that remained consistent was the maths.</p>

<p>I've learned a lot about Python recently, to the point where I'm starting to think about work projects
in terms of how they could be simplified using the language. The important thing, I think, is to make
sure I know ahead of time whether I expect to use a GUI or not, as it has a massive impact on how everything
is set up.</p>

<p>I will say that there is a relatively small amount of documentation available for Python + Glade, and a lot
of the documentation that is available is aging badly (Python 2.7, anyone?). However, a lot of the blanks
can be filled in by reading documentation for Glade and other languages like C and Vala to get an idea of
how the elements interact with the language, then simply convert that to your Python thinking.</p>

<p>Is my code good? No. It badly needs to be refactored and cleaned up. But for a 12-hour sprint with a tool
I've never used before I'm pretty happy with it. Of course, the moment I use it on a different DE the themeing
falls apart but oh well...</p>

<p>Next up: learning how to package this stuff.</p>

<p><a href="https://git.sr.ht/~sporiff/soap-calculator" >Source code</a></p>
 </article>
<nav class="relative-nav">
<a href="https://sporiff.github.io/posts/Plan9-Fun.html">Previous</a><br>
<a href="https://sporiff.github.io/posts/More-Speed-Improvements.html">Next</a><br>
</nav>
 </main>  <footer class="fineprint"> Unless otherwise credited all material <a rel="license" href="http://creativecommons.org/licenses/by-sa/4.0/"> CC BY-SA 4.0 </a> by Ciarán Ainsworth <a href="https://my.fsf.org/join?referrer=2278905"><img src="https://sporiff.github.io/css/fsf.png" style="max-height: 1.5rem" /></a> </footer> </body> </html>