<!doctype html><html lang=en><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><link rel=stylesheet type=text/css href="/css/style.min.744f758497484f98d65b02d6ff46ee5e38ccf9903976ffd1eaef6ad7401fa99b.css" integrity="sha256-dE91hJdIT5jWWwLW/0buXjjM+ZA5dv/R6u9q10AfqZs="><link rel=stylesheet type=text/css href=/css/syntax-light.min.c3f7545ba2ec853ed9c45e1ac5856a1d2976599c771c238e3a8f73be8bb6a91b.css integrity="sha256-w/dUW6LshT7ZxF4axYVqHSl2WZx3HCOOOo9zvou2qRs=" media="screen and (prefers-color-scheme: light)"><link rel=stylesheet type=text/css href=/css/syntax-dark.min.5d9aada6e7d12e754185f88ac16235771e30527e759abbe1080261284c214c0c.css integrity="sha256-XZqtpufRLnVBhfiKwWI1dx4wUn51mrvhCAJhKEwhTAw=" media="screen and (prefers-color-scheme: dark)"><meta name=description content="Checking Lighthouse tests is a dangerous thing for your free time."><title>Sporiff.dev | More speed improvements</title><link rel=apple-touch-icon sizes=180x180 href=/apple-touch-icon.png><link rel=icon type=image/png sizes=32x32 href=%3cnil%3e><link rel=icon type=image/png sizes=16x16 href=%3cnil%3e><link rel=manifest href=/site.webmanifest><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="https://rootkey.fra1.cdn.digitaloceanspaces.com/images/avatar.webp"><meta name=twitter:title content="More speed improvements"><meta name=twitter:description content="Checking Lighthouse tests is a dangerous thing for your free time."></head><header><nav class=secondary><div><a class=nav-link href=/>Home</a>
<a class=nav-link href=/posts>Posts</a>
<a class=nav-link href=/about>About me</a></div></nav></header><body><section id=content><article><h1>More speed improvements</h1><div><div class=byline><div class=avatar><img src=https://rootkey.fra1.cdn.digitaloceanspaces.com/images/avatar.webp alt="Avatar for Ciarán Ainsworth" width=48px height=48px></div><div class=author>Ciarán Ainsworth</div><time datetime=2020-05-28>May 28, 2020</time></div><aside class=tags><a class=tag href=tags/speed>speed</a>
<a class=tag href=tags/website>website</a>
<a class=tag href=tags/design>design</a>
<a class=tag href=tags/technology>technology</a></aside></div><br><br><p>A little while ago I made some <a href=/posts/2020/site-speed-improvements/>significant changes</a> to this website&rsquo;s design, asset delivery, and <a href=/posts/2020/building-smarter/>build system</a> Recently, however, I decided to do some benchmarking against a friend&rsquo;s site to see how it stacked up and I was surprised to see that my site was still significantly slower than it could be, and it was also failing some Lighthouse tests when run through Chromium. I decided to take the time to fix these recently and have made the following changes:</p><ul><li>The site is now served over HTTP/2 by default (I don&rsquo;t know how or why I missed this in the first place)</li><li>The site now uses generic fonts such as monospace and serif rather than loading custom fonts. This has the
added benefit of making it better for accessibility and end-user customization</li><li>The CSS has been put through the ringer to ensure that absolutely no unused rules are included, allowing me
to shrink the resulting minified file by about 2.5kb</li><li>The favicon, previously a multilayered <code>.ico</code> file is now served as a much smaller single layer <code>.png</code> (I
don&rsquo;t think there was any reason that I was keeping the multi-layered version around since it&rsquo;s only used
in the header bar)</li><li>The footer CC BY-SA 4.0 banner image has been replaced by a single link</li></ul><p>As a result of all these changes, the site should now load twice as fast. Obviously, images still take some time to load but given the changes made in the build process this should not block a page&rsquo;s load (I only rarely use images as an illustrative tool anyway, so they&rsquo;re not really essential).</p><p>One other important thing I was able to do as part of this most recent sweep of changes is ensure that the site&rsquo;s colour scheme is up-to-code with accessibility rules. Since the scheme was pretty much directly copied from Plan 9 I didn&rsquo;t really doubt that this would be the case, but it&rsquo;s good to make sure. I&rsquo;ve updated the CSS to make all colours variables now, so should I choose to implement different themes in future it should be trivial to implement these.</p><p>My site still isn&rsquo;t as fast as my friend&rsquo;s (he just has a much smaller stylesheet, there&rsquo;s not much I can do there), but I do score a lot higher on accessibility. I&rsquo;m going to call that a win for today.</p><p><img src=https://rootkey.fra1.cdn.digitaloceanspaces.com/images/post_images/lighthouse.webp alt="A screenshot of a Google Lighthouse report showing scores of 100 in each category"></p></article></section><footer>Copyright (c) 2022 Ciarán Ainsworth</footer></body></html>