<!doctype html><html dir=ltr lang=en data-theme><head><title>Ciarán Ainsworth
|
Playing with ports</title><meta charset=utf-8><meta name=generator content="Hugo 0.97.2"><meta name=viewport content="width=device-width,initial-scale=1,viewport-fit=cover"><meta name=description content="
      I write about things for a living


    "><link rel=stylesheet href=/css/main.min.440a169ee4b645c09fe67c6bb076175d3eeac345e8abe5925486ca71a3e5289d.css integrity="sha256-RAoWnuS2RcCf5nxrsHYXXT7qw0Xoq+WSVIbKcaPlKJ0=" crossorigin=anonymous type=text/css><link rel=stylesheet href=/css/markupHighlight.min.058b31f17db60602cc415fd63b0427e7932fbf35c70d8e341a4c39385f5f6f3e.css integrity="sha256-BYsx8X22BgLMQV/WOwQn55MvvzXHDY40Gkw5OF9fbz4=" crossorigin=anonymous type=text/css><link rel=stylesheet href=/css/custom.min.ec0e83e7d616d38ef6d5b475ac380ecf1b0231c475feef0592fe0299f5ccf347.css integrity="sha256-7A6D59YW04721bR1rDgOzxsCMcR1/u8Fkv4CmfXM80c=" crossorigin=anonymous media=screen><link rel=stylesheet href=https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.1/css/all.min.css integrity="sha512-+4zCK9k+qNFUR5X+cKL9EIR+ZOhtIloNl9GIKS57V1MyNsYpYcUrUeQc9vNfzsWfV28IaLL3i96P9sdNyeRssA==" crossorigin=anonymous><link rel="shortcut icon" href=/favicon.ico type=image/x-icon><link rel=apple-touch-icon sizes=180x180 href=/apple-touch-icon.png><link rel=icon type=image/png sizes=32x32 href=/favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=/favicon-16x16.png><link rel=canonical href=/posts/playing-with-ports/><script type=text/javascript src=/js/anatole-header.min.d0408165d31a17f17bba83038bf54e86121f85021bdf936382e636f0f77a952f.js integrity="sha256-0ECBZdMaF/F7uoMDi/VOhhIfhQIb35NjguY28Pd6lS8=" crossorigin=anonymous></script>
<script type=text/javascript src=/js/anatole-theme-switcher.min.65e936b591bf81484a5ac438c8e4ae6454fb25516d58ce911e4888d7f230bdc5.js integrity="sha256-Zek2tZG/gUhKWsQ4yOSuZFT7JVFtWM6RHkiI1/IwvcU=" crossorigin=anonymous></script><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="/images/Avatar.png"><meta name=twitter:title content="Playing with ports"><meta name=twitter:description content="As mentioned in my previous post, I&rsquo;ve recently been playing around with FreeBSD on one of my laptops. Why? Boredom, frankly. Boredom with my job, boredom with my lack of social life, boredom with the weather. Whatever the cause, the cure is always computer fun!
If you&rsquo;ve ever used FreeBSD you&rsquo;re probably already well aware of the ports system. It&rsquo;s the thing that scares people because you mentioned the dreaded &ldquo;S&rdquo; word"><script type=application/ld+json>{"@context":"http://schema.org","@type":"BlogPosting","articleSection":"posts","name":"Playing with ports","headline":"Playing with ports","alternativeHeadline":"","description":"
      
        As mentioned in my previous post, I\u0026rsquo;ve recently been playing around with FreeBSD on one of my laptops. Why? Boredom, frankly. Boredom with my job, boredom with my lack of social life, boredom with the weather. Whatever the cause, the cure is always computer fun!\nIf you\u0026rsquo;ve ever used FreeBSD you\u0026rsquo;re probably already well aware of the ports system. It\u0026rsquo;s the thing that scares people because you mentioned the dreaded \u0026ldquo;S\u0026rdquo; word


      


    ","inLanguage":"en-us","isFamilyFriendly":"true","mainEntityOfPage":{"@type":"WebPage","@id":"\/posts\/playing-with-ports\/"},"author":{"@type":"Person","name":"Ciarán Ainsworth"},"creator":{"@type":"Person","name":"Ciarán Ainsworth"},"accountablePerson":{"@type":"Person","name":"Ciarán Ainsworth"},"copyrightHolder":{"@type":"Person","name":"Ciarán Ainsworth"},"copyrightYear":"2020","dateCreated":"2020-02-10T21:38:36.00Z","datePublished":"2020-02-10T21:38:36.00Z","dateModified":"2020-02-10T21:38:36.00Z","publisher":{"@type":"Organization","name":"Ciarán Ainsworth","url":"","logo":{"@type":"ImageObject","url":"favicon-32x32.png","width":"32","height":"32"}},"image":["/images/Avatar.png"],"url":"\/posts\/playing-with-ports\/","wordCount":"488","genre":["blog"],"keywords":["FreeBSD","unix","floss","free software","ports","lisp","roswell"]}</script></head><body><header><div class="page-top
animated fadeInDown"><a role=button class=navbar-burger data-target=navMenu aria-label=menu aria-expanded=false><span aria-hidden=true></span>
<span aria-hidden=true></span>
<span aria-hidden=true></span></a><nav><ul class=nav__list id=navMenu><div class=nav__links><li><a href=/ title>Home</a></li><li><a href=/about title>About me</a></li><li><a href=/portfolio title>Portfolio</a></li></div><ul><li><a class=theme-switch title="Switch Theme"><i class="fas fa-adjust fa-fw" aria-hidden=true></i></a></li></ul></ul></nav></div></header><div class=wrapper><aside><div class="sidebar
animated fadeInDown"><div class=sidebar__content><div class=logo-title><div class=title><img src=/images/Avatar.png alt="profile picture"><h3 title><a href=/>Life inside a computer</a></h3><div class=description><p>I write about things for a living</p></div></div></div><ul class=social-links><li><a href=https://twitter.com/thatdapperbrit rel=me aria-label title><i class="fab fa-twitter fa-2x" aria-hidden=true></i></a></li><li><a href=https://mastodon.technology/@cda rel=me aria-label title><i class="fab fa-mastodon fa-2x" aria-hidden=true></i></a></li><li><a href=mailto:ciaranainsworth@icloud.com rel=me aria-label title><i class="fas fa-envelope fa-2x" aria-hidden=true></i></a></li><li><a href=https://github.com/Sporiff rel=me aria-label title><i class="fab fa-github fa-2x" aria-hidden=true></i></a></li></ul></div><footer class="footer footer--sidebar"><div class=by_farbox><ul class=footer__list><li class=footer__item>&copy;
Ciarán Ainsworth
2022</li></ul></div></footer><script type=text/javascript src=/js/medium-zoom.min.80b0768059c89e2a2180578a3e0e18ede16635e5fedabcccfba6479f60c40bbb.js integrity="sha256-gLB2gFnIniohgFeKPg4Y7eFmNeX+2rzM+6ZHn2DEC7s=" crossorigin=anonymous></script></div></aside><main><div class=autopagerize_page_element><div class=content><div class="post
animated fadeInDown"><div class=post-content><div class=post-title><h1>Playing with ports</h1><div class=info><em class="fas fa-calendar-day"></em>
<span class=date>Mon, Feb 10, 2020</span>
<em class="fas fa-stopwatch"></em>
<span class=reading-time>3-minute read</span></div></div><div class=alert><div id=indicator>!</div>Warning: This post is over 365 days old. The information may be out of date.</div><figure><img src=https://rootkey.fra1.cdn.digitaloceanspaces.com/static/images/freebsd-logo.png alt="The FreeBSD logo"></figure><p>As mentioned in my <a href=/posts/moving-to-freebsd/>previous post</a>, I&rsquo;ve recently been playing around with FreeBSD on one of my laptops. Why? Boredom, frankly. Boredom with my job, boredom with my lack of social life, boredom with the weather. Whatever the cause, the cure is always computer fun!</p><p>If you&rsquo;ve ever used FreeBSD you&rsquo;re probably already well aware of the ports system. It&rsquo;s the thing that scares people because you mentioned the dreaded &ldquo;S&rdquo; word</p><blockquote><p>Oh, yeah. I usually build that from source to be honest</p><p>You WHAT</p></blockquote><p>I&rsquo;ll admit to being more of a binary package man myself (my time is… well not valuable. But still ticking away!) and I only very rarely dip into the ports tree when a binary doesn&rsquo;t exist or is a long way out of date. But there is a lot of comfort having it there as a backup.</p><p>One piece of software I use quite frequently is <a href=https://github.com/roswell/roswell>Roswell</a>, a lisp implementation/installation manager. It&rsquo;s what I use to install and manage <a href=https://github.com/coleslaw-org/coleslaw>coleslaw</a> (you know, that thing that powers this website). Now, being a spoiled boy from the good side of town over with that Void and Arch bunch, I&rsquo;m used to having Roswell nicely packaged up for me to install at the tippety tap of my fingers. On FreeBSD, this package is unfortunately missing. Ho hum. No worries, thinks I, I&rsquo;ll just install it from source and move on with my life.</p><p>But I got to thinking: how hard <em>is</em> it to actually make a port for something? Looking through the rather excellently written <a href=https://www.freebsd.org/doc/en_US.ISO8859-1/books/porters-handbook/>Porter&rsquo;s handbook</a> it <em>looked</em> simple enough, especially since Roswell is essentially a good old fashioned <code>./configure && make && make install</code> jobby. So I started poking around at it and seeing if I could make sense of the syntax and the logic behind it.</p><p>After a few hours of plugging, it looked like I had something usable. It took a bit of swearing and messing up my <code>Makefile</code> (don&rsquo;t believe everything <code>portlint</code> tells you, he&rsquo;s a fibber that one), but eventually I could get it successfully installing, deinstalling, configuring with a PREFIX, and, well, behaving like a package should.</p><p>I&rsquo;ve had a crack at packaging before with <code>.deb</code> and guix. It&rsquo;s always come across as the single most maddening thing in the world to me, so pernickety and demanding for something that should be so simple. Writing the port, on the other hand, was relatively straightforward. You tell it what is required, pass it some special instructions, and just let the standard tools take over from there. This form factor, coupled with the quality of the documentation made this a much less frustrating (and much more rewarding) packaging experience. Granted, I picked a very simple thing to start with. These things get harder logarithmically.</p><p>Anyhow, since it worked for me I decided to actually submit the thing upstream and see if it&rsquo;s good enough to be included.</p><p>Only time will tell.</p><div style=position:relative;padding-bottom:56.25%;height:0;overflow:hidden><iframe src=https://www.youtube.com/embed/Z8alr_XJ0co style=position:absolute;top:0;left:0;width:100%;height:100%;border:0 allowfullscreen title="YouTube Video"></iframe></div></div><div class=post-footer><div class=info><span class=separator><a class=category href=/categories/blog/>blog</a></span>
<span class=separator><a class=tag href=/tags/freebsd/>FreeBSD</a><a class=tag href=/tags/unix/>unix</a><a class=tag href=/tags/floss/>floss</a><a class=tag href=/tags/free-software/>free software</a><a class=tag href=/tags/ports/>ports</a><a class=tag href=/tags/lisp/>lisp</a><a class=tag href=/tags/roswell/>roswell</a></span></div></div></div></div></div></main></div><footer class="footer footer--base"><div class=by_farbox><ul class=footer__list><li class=footer__item>&copy;
Ciarán Ainsworth
2022</li></ul></div></footer><script type=text/javascript src=/js/medium-zoom.min.80b0768059c89e2a2180578a3e0e18ede16635e5fedabcccfba6479f60c40bbb.js integrity="sha256-gLB2gFnIniohgFeKPg4Y7eFmNeX+2rzM+6ZHn2DEC7s=" crossorigin=anonymous></script></body></html>