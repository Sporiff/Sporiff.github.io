<!doctype html>
<html lang="en"> <head> <title>Life Inside a Computer</title> <meta http-equiv="content-type" content="text/html;" charset="UTF-8" /> <meta name="viewport" content="width=device-width, initial-scale=1"> <link href="https://sporiff.github.io/css/style.min.css" rel="stylesheet" type="text/css" /> <link rel="alternate" href="https://sporiff.github.io/rss.xml" type="application/rss+xml" /> <link rel="icon" type="image/png" href="https://sporiff.github.io/css/favicon.png" /> <meta name="flattr:id" content="d7zprl"> <meta property="twitter:card" content="summary" />
<meta property="twitter:author" content="@thatdapperbrit" />
<meta property="twitter:title" content="Playing With Ports" />
<meta property="twitter:description" content="<p><img src="https://assets.rootkey.co.uk/static/images/freebsd-logo.png" alt="The FreeBSD logo" /></p>

<p>As mentioned in my <a href="https://rootkey.co.uk/posts/Moving-to-FreeBSD.html" >previous p" /> </head> <body> <nav class="navigation"> <a href="https://sporiff.github.io">Home</a> | <a href="mailto:ciaranainsworth@outlook.com">Email</a>  | <a href="https://github.com/Sporiff">Code</a>  | <a href="https://paypal.me/CiaranAinsworth">Support me</a>  | <a href="https://assets.rootkey.co.uk/static/resume.pdf">Resumé</a>  | <a href="https://sporiff.github.io/atom.xml">RSS</a>  </nav> <main id="content"> <section class="article-meta">
<h1 class="title">Playing With Ports</h1>
<details open> <summary>Article Information</summary> <section class="tags">
Tagged as <a href="https://sporiff.github.io/tag/FreeBSD.html">FreeBSD</a>, <a href="https://sporiff.github.io/tag/unix.html">unix</a>, <a href="https://sporiff.github.io/tag/floss.html">floss</a>, <a href="https://sporiff.github.io/tag/free-software.html">free software</a>, <a href="https://sporiff.github.io/tag/ports.html">ports</a>, <a href="https://sporiff.github.io/tag/lisp.html">lisp</a>, <a href="https://sporiff.github.io/tag/roswell.html">roswell</a> </section>
<section class="date">
Written on <time datetime="2020-02-10 22:38:36">2020-02-10 22:38:36</time> </section>
</section>
<article class="article-content">
<p><img src="https://assets.rootkey.co.uk/static/images/freebsd-logo.png" alt="The FreeBSD logo" /></p>

<p>As mentioned in my <a href="https://rootkey.co.uk/posts/Moving-to-FreeBSD.html" >previous post</a>, I've recently been playing
around with FreeBSD on one of my laptops. Why? Boredom, frankly. Boredom with my
job, boredom with my lack of social life, boredom with the weather. Whatever the
cause, the cure is always computer fun!</p>

<p>If you've ever used FreeBSD you're probably already well aware of the ports sytem.
It's the thing that scares people because you mentioned the dreaded &quot;S&quot; word</p>

<blockquote>
<p>Oh, yeah. I usually build that from source to be honest</p>

<p>You WHAT</p>
</blockquote>

<p>I'll admit to being more of a binary package man myself (my time is... well not
valuable. But still ticking away!) and I only very rarely dip into the ports tree
when a binary doesn't exist or is a long way out of date. But there is a lot of
comfort having it there as a backup.</p>

<p>One piece of software I use quite frequently is <a href="https://github.com/roswell/roswell" >Roswell</a>,
a lisp implementation/installation manager. It's what I use to install and manage
<a href="https://github.com/coleslaw-org/coleslaw" >coleslaw</a> (you know, that thing that
powers this website). Now, being a spoiled boy from the good side of town over
with that Void and Arch bunch, I'm used to having Roswell nicely packaged up for
me to install at the tippety tap of my fingers. On FreeBSD, this package is
unfortunately missing. Ho hum. No worries, thinks I, I'll just install it from
source and move on with my life.</p>

<p>But I got to thinking: how hard <em>is</em> it to actually make a port for something?
Looking through the rather excellently written
<a href="https://www.freebsd.org/doc/en_US.ISO8859-1/books/porters-handbook/" >Porter's handbook</a>
it <em>looked</em> simple enough, especially since Roswell is essentially a good old
fashioned <code>./configure &amp;&amp; make &amp;&amp; make install</code> jobby. So I started poking around
at it and seeing if I could make sense of the syntax and the logic behind it.</p>

<p>After a few hours of plugging, it looked like I had something usable. It took
a bit of swearing and messing up my <code>Makefile</code> (don't believe everything
<code>portlint</code> tells you, he's a fibber that one), but eventually I could get it
successfully installing, deinstalling, configuring with a PREFIX, and, well,
behaving like a package should.</p>

<p>I've had a crack at packaging before with <code>.deb</code> and guix. It's always come
across as the single most maddening thing in the world to me, so pernickety
and demanding for something that should be so simple. Writing the port, on
the other hand, was relatively straightforward. You tell it what is required,
pass it some special instructions, and just let the standard tools take over
from there. This form factor, coupled with the quality of the documentation
made this a much less frustrating (and much more rewarding) packaging experience.
Granted, I picked a very simple thing to start with. These things get harder
logarithmically.</p>

<p>Anyhow, since it worked for me I decided to actually submit the thing upstream
and see if it's good enough to be included.</p>

<p><a href="https://www.youtube.com/watch?v=Z8alr_XJ0co" >Only time will tell</a></p>
 </article>
<nav class="relative-nav">
<a href="https://sporiff.github.io/posts/date/Learning-FreeBSD.html">Previous</a><br>
<a href="https://sporiff.github.io/posts/date/Building-Smarter.html">Next</a><br>
</nav>
 </main>  <footer class="fineprint"> Unless otherwise credited all material <a rel="license" href="http://creativecommons.org/licenses/by-sa/4.0/"> CC BY-SA 4.0 </a> by Ciarán Ainsworth </footer> </body> </html>