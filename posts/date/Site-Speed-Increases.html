<!doctype html>
<html lang="en"> <head> <title>Life Inside a Computer</title> <meta http-equiv="content-type" content="text/html;" charset="UTF-8" /> <meta name="viewport" content="width=device-width, initial-scale=1"> <link href="https://sporiff.github.io/css/style.min.css" rel="stylesheet" type="text/css" /> <link rel="alternate" href="https://sporiff.github.io/rss.xml" type="application/rss+xml" /> <link rel="icon" type="image/png" href="https://sporiff.github.io/css/favicon.png" /> <meta name="flattr:id" content="d7zprl"> <meta property="twitter:card" content="summary" />
<meta property="twitter:author" content="@thatdapperbrit" />
<meta property="twitter:title" content="Site Speed Increases" />
<meta property="twitter:description" content="<p><img src="https://assets.rootkey.co.uk/static/images/Rocket.png" alt="A rocket ship! Zoom!" /></p>

<p>I got poking around at this site and was doing some thinking. Mainly along the lines
of speed" /> </head> <body> <nav class="navigation"> <a href="https://sporiff.github.io">Home</a> | <a href="mailto:ciaranainsworth@outlook.com">Email</a>  | <a href="https://github.com/Sporiff">Code</a>  | <a href="https://paypal.me/CiaranAinsworth">Support me</a>  | <a href="https://assets.rootkey.co.uk/static/resume.pdf">Resumé</a>  | <a href="https://sporiff.github.io/atom.xml">RSS</a>  </nav> <main id="content"> <section class="article-meta">
<h1 class="title">Site Speed Increases</h1>
<details open> <summary>Article Information</summary> <section class="tags">
Tagged as <a href="https://sporiff.github.io/tag/tech.html">tech</a>, <a href="https://sporiff.github.io/tag/blog.html">blog</a>, <a href="https://sporiff.github.io/tag/hosting.html">hosting</a>, <a href="https://sporiff.github.io/tag/technology.html">technology</a>, <a href="https://sporiff.github.io/tag/website.html">website</a> </section>
<section class="date">
Written on <time datetime="2020-04-23">2020-04-23</time> </section>
</section>
<article class="article-content">
<p><img src="https://assets.rootkey.co.uk/static/images/Rocket.png" alt="A rocket ship! Zoom!" /></p>

<p>I got poking around at this site and was doing some thinking. Mainly along the lines
of speed and security. By default, the dark-hyde theme provided by the good folks over
at <a href="https://github.com/coleslaw-org/coleslaw" >Coleslaw</a> uses Google's CDN for font
delivery. This is all well and good, however I'm really not a big fan of Google at all
and like to avoid them where possible. With that in mind, I started thinking about how
I could go about replacing them.</p>

<p>The major thing that Google provides on a lot of websites, even those who are privacy-conscious
enough not to use abominations like Google analytics, is the serving of fonts and Javascript.
Hosting these things through their CDN makes it very straightforward to plug a font or script
in without having to worry about hosting the files locally or anything like that. However,
it also means that people's browsers are constantly calling out to Google, thereby increasing
the web's reliance on them.</p>

<p>To that I say: eff off.</p>

<p>Replacing these fonts was reasonably straightforward thanks to the magical combination of
<a href="https://digitalocean.com" >Digital Ocean's</a> CDN and the <a href="https://google-webfonts-helper.herokuapp.com/fonts" >google-webfonts-helper</a>,
which made grabbing the relative files and CSS a breeze. Pointing all parts of my theme
file to the newly cached CSS files and migrating all images etc. should speed things up
at least a little bit, and best of all: no Google! All fonts should have a backup in case
DO is a little slow. It's been known to happen.</p>

<p>The other little hacky thing I did was relates to <a href="https://rootkey.co.uk/posts/Building-Smarter.html" >my earlier post</a>
about using a git-based workflow to manage the deployment of this site. I'm a fan of the
idea of using lazy loading for images since they're not particularly important for this
site's content and I'd rather let them just load in their own time. However, Coleslaw only
produces raw images from Markdown, with no option to add the <code>loading</code> tag. Oh well. This
site runs on FreeBSD, baby! Anything is possible. A simple one-liner added to the deployment
hook should allow me to stick that in to the files.</p>

<pre><code>find . -type f -name "*.html" -print0 | xargs -0 sed -i '' -e 's/&lt;img /&lt;img loading="lazy" /g'</code></pre>

<p>Oh, it's hacky. But it works. I'm not really in the mood to go diving through Lisp code
to do this in Coleslaw...</p>
 </article>
<nav class="relative-nav">
<a href="https://sporiff.github.io/posts/date/Alpine.html">Previous</a><br>
<a href="https://sporiff.github.io/posts/date/Ditch-the-Walled-Gardens.html">Next</a><br>
</nav>
 </main>  <footer class="fineprint"> Unless otherwise credited all material <a rel="license" href="http://creativecommons.org/licenses/by-sa/4.0/"> CC BY-SA 4.0 </a> by Ciarán Ainsworth <a href="https://my.fsf.org/join?referrer=2278905"><img src="https://sporiff.github.io/css/fsf.png" style="max-height: 1.5rem" /></a> </footer> </body> </html>